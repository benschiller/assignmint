{
  "_format": "hh-sol-artifact-1",
  "contractName": "Escrow",
  "sourceName": "contracts/Escrow.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_seller",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_nftContractAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_purchasePrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_assignmentPrice",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "initiator",
          "type": "address"
        }
      ],
      "name": "EscrowCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "wholesaler",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "purchaseAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "wholesalerProfit",
          "type": "uint256"
        }
      ],
      "name": "EscrowCompleted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "wholesaler",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "purchasePrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "assignmentPrice",
          "type": "uint256"
        }
      ],
      "name": "EscrowCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "wholesaler",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "NFTDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PaymentReceived",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "assignmentPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "buyer",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "cancelEscrow",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentState",
      "outputs": [
        {
          "internalType": "enum Escrow.EscrowState",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "depositNFT",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "makePayment",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nftContract",
      "outputs": [
        {
          "internalType": "contract IERC721",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nftDeposited",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "name": "onERC721Received",
      "outputs": [
        {
          "internalType": "bytes4",
          "name": "",
          "type": "bytes4"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentReceived",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "purchasePrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "seller",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "wholesaler",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051611fb0380380611fb083398181016040528101906100329190610310565b600160008190555033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555085600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555084600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555083600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508260058190555081600681905550806007819055506000600860026101000a81548160ff021916908360048111156101795761017861039d565b5b0217905550600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f3c4e29478f8f1009d15c38d3a09b67792199aa87358d543e44a3822dd8d296238760055460065460075460405161026494939291906103ea565b60405180910390a450505050505061042f565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006102a78261027c565b9050919050565b6102b78161029c565b81146102c257600080fd5b50565b6000815190506102d4816102ae565b92915050565b6000819050919050565b6102ed816102da565b81146102f857600080fd5b50565b60008151905061030a816102e4565b92915050565b60008060008060008060c0878903121561032d5761032c610277565b5b600061033b89828a016102c5565b965050602061034c89828a016102c5565b955050604061035d89828a016102c5565b945050606061036e89828a016102fb565b935050608061037f89828a016102fb565b92505060a061039089828a016102fb565b9150509295509295509295565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6103d58161029c565b82525050565b6103e4816102da565b82525050565b60006080820190506103ff60008301876103cc565b61040c60208301866103db565b61041960408301856103db565b61042660608301846103db565b95945050505050565b611b728061043e6000396000f3fe6080604052600436106100dd5760003560e01c80636c4233b11161007f578063d50c453811610059578063d50c45381461027a578063d56d229d146102a5578063d8d79700146102d0578063defd6c5f146102da576100dd565b80636c4233b11461020d5780637150d8ae14610238578063d45b000714610263576100dd565b806317d70f7c116100bb57806317d70f7c146101755780633ca61eba146101a0578063431c40a2146101cb57806367e3c4d4146101f6576100dd565b806308551a53146100e25780630c3f6acf1461010d578063150b7a0214610138575b600080fd5b3480156100ee57600080fd5b506100f7610305565b60405161010491906110ea565b60405180910390f35b34801561011957600080fd5b5061012261032b565b60405161012f919061117c565b60405180910390f35b34801561014457600080fd5b5061015f600480360381019061015a9190611353565b61033e565b60405161016c9190611411565b60405180910390f35b34801561018157600080fd5b5061018a610352565b604051610197919061143b565b60405180910390f35b3480156101ac57600080fd5b506101b5610358565b6040516101c29190611471565b60405180910390f35b3480156101d757600080fd5b506101e061036b565b6040516101ed919061143b565b60405180910390f35b34801561020257600080fd5b5061020b610371565b005b34801561021957600080fd5b50610222610627565b60405161022f91906110ea565b60405180910390f35b34801561024457600080fd5b5061024d61064d565b60405161025a91906110ea565b60405180910390f35b34801561026f57600080fd5b50610278610673565b005b34801561028657600080fd5b5061028f610a17565b60405161029c9190611471565b60405180910390f35b3480156102b157600080fd5b506102ba610a2a565b6040516102c791906114eb565b60405180910390f35b6102d8610a50565b005b3480156102e657600080fd5b506102ef610ca8565b6040516102fc919061143b565b60405180910390f35b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600860029054906101000a900460ff1681565b600063150b7a0260e01b9050949350505050565b60055481565b600860009054906101000a900460ff1681565b60075481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610401576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103f890611563565b60405180910390fd5b6000600481111561041557610414611105565b5b600860029054906101000a900460ff16600481111561043757610436611105565b5b14610477576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161046e906115f5565b60405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166342842e0e600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16306005546040518463ffffffff1660e01b81526004016104fa93929190611615565b600060405180830381600087803b15801561051457600080fd5b505af1158015610528573d6000803e3d6000fd5b505050506001600860006101000a81548160ff0219169083151502179055506001600860026101000a81548160ff0219169083600481111561056d5761056c611105565b5b0217905550600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f2214288c094665e4969e2968c71e56e0ab3c69646a5c773ec8c2a7ca3bf18808600554604051610615919061143b565b60405180910390a3610625610cae565b565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610703576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fa906116be565b60405180910390fd5b6000600481111561071757610716611105565b5b600860029054906101000a900460ff16600481111561073957610738611105565b5b148061077857506001600481111561075457610753611105565b5b600860029054906101000a900460ff16600481111561077657610775611105565b5b145b806107b657506002600481111561079257610791611105565b5b600860029054906101000a900460ff1660048111156107b4576107b3611105565b5b145b6107f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107ec90611750565b60405180910390fd5b600860009054906101000a900460ff16156108c057600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166342842e0e30600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166005546040518463ffffffff1660e01b815260040161088d93929190611615565b600060405180830381600087803b1580156108a757600080fd5b505af11580156108bb573d6000803e3d6000fd5b505050505b600860019054906101000a900460ff16156109a7576000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660075460405161091f906117a1565b60006040518083038185875af1925050503d806000811461095c576040519150601f19603f3d011682016040523d82523d6000602084013e610961565b606091505b50509050806109a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161099c90611802565b60405180910390fd5b505b6004600860026101000a81548160ff021916908360048111156109cd576109cc611105565b5b02179055503373ffffffffffffffffffffffffffffffffffffffff167fac2a38716bf0fa9fa1a52e859663398120e11fa721ea31fe0682199b9fd367e760405160405180910390a2565b600860019054906101000a900460ff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b610a58611059565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610ae8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610adf9061186e565b60405180910390fd5b60006004811115610afc57610afb611105565b5b600860029054906101000a900460ff166004811115610b1e57610b1d611105565b5b1480610b5d575060016004811115610b3957610b38611105565b5b600860029054906101000a900460ff166004811115610b5b57610b5a611105565b5b145b610b9c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9390611900565b60405180910390fd5b6007543414610be0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bd79061196c565b60405180910390fd5b6001600860016101000a81548160ff0219169083151502179055506002600860026101000a81548160ff02191690836004811115610c2157610c20611105565b5b0217905550600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f6ef95f06320e7a25a04a175ca677b7052bdd97131872c2192525a629f51be77034604051610c8e919061143b565b60405180910390a2610c9e610cae565b610ca661109f565b565b60065481565b600860009054906101000a900460ff168015610cd65750600860019054906101000a900460ff165b15611057576000600654600754610ced91906119bb565b90506000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600654604051610d39906117a1565b60006040518083038185875af1925050503d8060008114610d76576040519150601f19603f3d011682016040523d82523d6000602084013e610d7b565b606091505b5050905080610dbf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610db690611a61565b60405180910390fd5b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1683604051610e07906117a1565b60006040518083038185875af1925050503d8060008114610e44576040519150601f19603f3d011682016040523d82523d6000602084013e610e49565b606091505b5050905080610e8d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e8490611af3565b60405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166342842e0e30600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166005546040518463ffffffff1660e01b8152600401610f1093929190611615565b600060405180830381600087803b158015610f2a57600080fd5b505af1158015610f3e573d6000803e3d6000fd5b505050506003600860026101000a81548160ff02191690836004811115610f6857610f67611105565b5b0217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f04d5066f21ee9740de8cf013d0846ae2b74735fcf1c8962a729c17dc788b11ae6006548760405161104b929190611b13565b60405180910390a45050505b565b600260005403611095576040517f3ee5aeb500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6002600081905550565b6001600081905550565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006110d4826110a9565b9050919050565b6110e4816110c9565b82525050565b60006020820190506110ff60008301846110db565b92915050565b6000604051905090565b600080fd5b600080fd5b6111b4816110c9565b81146111bf57600080fd5b50565b6000813590506111d1816111ab565b92915050565b6000819050919050565b6111ea816111d7565b81146111f557600080fd5b50565b600081359050611207816111e1565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61126082611217565b810181811067ffffffffffffffff8211171561127f5761127e611228565b5b80604052505050565b6000611292611197565b905061129e8282611257565b919050565b600067ffffffffffffffff8211156112be576112bd611228565b5b6112c782611217565b9050602081019050919050565b82818337600083830152505050565b60006112f66112f1846112a3565b611288565b90508281526020810184848401111561131257611311611212565b5b61131d8482856112d4565b509392505050565b600082601f83011261133a5761133961120d565b5b813561134a8482602086016112e3565b91505092915050565b6000806000806080858703121561136d5761136c6111a1565b5b600061137b878288016111c2565b945050602061138c878288016111c2565b935050604061139d878288016111f8565b925050606085013567ffffffffffffffff8111156113be576113bd6111a6565b5b6113ca87828801611325565b91505092959194509250565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61140b816113d6565b82525050565b60006020820190506114266000830184611402565b92915050565b611435816111d7565b82525050565b6000602082019050611450600083018461142c565b92915050565b60008115159050919050565b61146b81611456565b82525050565b60006020820190506114866000830184611462565b92915050565b6000819050919050565b60006114b16114ac6114a7846110a9565b61148c565b6110a9565b9050919050565b60006114c382611496565b9050919050565b60006114d5826114b8565b9050919050565b6114e5816114ca565b82525050565b600060208201905061150060008301846114dc565b92915050565b600082825260208201905092915050565b7f4f6e6c792077686f6c6573616c65722063616e206465706f736974204e465400600082015250565b600061154d601f83611506565b915061155882611517565b602082019050919050565b6000602082019050818103600083015261157c81611540565b9050919050565b7f4e46542063616e206f6e6c79206265206465706f736974656420696e2043726560008201527f6174656420737461746500000000000000000000000000000000000000000000602082015250565b60006115df602a83611506565b91506115ea82611583565b604082019050919050565b6000602082019050818103600083015261160e816115d2565b9050919050565b600060608201905061162a60008301866110db565b61163760208301856110db565b611644604083018461142c565b949350505050565b7f4f6e6c792077686f6c6573616c65722063616e2063616e63656c20657363726f60008201527f7700000000000000000000000000000000000000000000000000000000000000602082015250565b60006116a8602183611506565b91506116b38261164c565b604082019050919050565b600060208201905081810360008301526116d78161169b565b9050919050565b7f457363726f772063616e6e6f742062652063616e63656c6c656420696e20637560008201527f7272656e74207374617465000000000000000000000000000000000000000000602082015250565b600061173a602b83611506565b9150611745826116de565b604082019050919050565b600060208201905081810360008301526117698161172d565b9050919050565b600081905092915050565b50565b600061178b600083611770565b91506117968261177b565b600082019050919050565b60006117ac8261177e565b9150819050919050565b7f4661696c656420746f20726566756e6420627579657200000000000000000000600082015250565b60006117ec601683611506565b91506117f7826117b6565b602082019050919050565b6000602082019050818103600083015261181b816117df565b9050919050565b7f4f6e6c792062757965722063616e206d616b65207061796d656e740000000000600082015250565b6000611858601b83611506565b915061186382611822565b602082019050919050565b600060208201905081810360008301526118878161184b565b9050919050565b7f5061796d656e742063616e206f6e6c79206265206d61646520696e204372656160008201527f746564206f72204e46544465706f736974656420737461746500000000000000602082015250565b60006118ea603983611506565b91506118f58261188e565b604082019050919050565b60006020820190508181036000830152611919816118dd565b9050919050565b7f496e636f7272656374207061796d656e7420616d6f756e740000000000000000600082015250565b6000611956601883611506565b915061196182611920565b602082019050919050565b6000602082019050818103600083015261198581611949565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006119c6826111d7565b91506119d1836111d7565b92508282039050818111156119e9576119e861198c565b5b92915050565b7f4661696c656420746f207472616e73666572207075726368617365207072696360008201527f6520746f2073656c6c6572000000000000000000000000000000000000000000602082015250565b6000611a4b602b83611506565b9150611a56826119ef565b604082019050919050565b60006020820190508181036000830152611a7a81611a3e565b9050919050565b7f4661696c656420746f207472616e736665722077686f6c6573616c657220707260008201527f6f66697400000000000000000000000000000000000000000000000000000000602082015250565b6000611add602483611506565b9150611ae882611a81565b604082019050919050565b60006020820190508181036000830152611b0c81611ad0565b9050919050565b6000604082019050611b28600083018561142c565b611b35602083018461142c565b939250505056fea264697066735822122065d990caddb6bb251753a23073918755a1c8fa4b547b687f6ddbddd9a975e52e64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
